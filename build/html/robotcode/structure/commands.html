

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Commands &mdash; Evans Chen&#39;s Software Guide 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Evans Chen&#39;s Software Guide 1.0 documentation" href="../../index.html"/>
        <link rel="up" title="Structure" href="structure.html"/>
        <link rel="next" title="Subsystems" href="subsystems.html"/>
        <link rel="prev" title="OI" href="oi.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Evans Chen's Software Guide
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../robotcode.html">Robot Code</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="structure.html">Structure</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="robot.html">Robot</a></li>
<li class="toctree-l3"><a class="reference internal" href="robotmap.html">RobotMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="oi.html">OI</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Commands</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="subsystems.html">Subsystems</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandgroups.html">CommandGroups</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../components/components.html">Components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tasks/tasks.html">Common Tasks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Evans Chen's Software Guide</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../robotcode.html">Robot Code</a> &raquo;</li>
        
          <li><a href="structure.html">Structure</a> &raquo;</li>
        
      <li>Commands</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/robotcode/structure/commands.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="commands">
<h1>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h1>
<p>A command is simply an object that acts like a loop that happens over time. At its most basic level, a command is essentially:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">initialize</span><span class="o">();</span>
<span class="k">while</span><span class="o">(!</span><span class="n">isFinished</span><span class="o">())</span>
<span class="o">{</span>
    <span class="n">execute</span><span class="o">();</span>
<span class="o">}</span>
<span class="n">end</span><span class="o">();</span> <span class="c1">// or interrupted() if necessary</span>
</pre></div>
</div>
<p>However, the interesting part is that execute runs approximately once every 50ms and also that many commands can run at the same time.</p>
<p>Additionally, since many commands run at the same time, you do not want two commands trying to use the same subsystem at the same time, since that does not work (e.g. setting the same motor two different values at the same time).</p>
<p>To solve this problem, use the requires(Subsystem) method in the constructor of the command.</p>
<p>When another command that requires the same subsystem starts, it will interrupt the one previously running, ending it. That way, no two commands that run on the same subsystem will be running at the same time.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>In the class:</dt>
<dd>Declare fields here. These should usually be private.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Constructor:</dt>
<dd>Pass in parameters and initialize fields. Note that this runs when constructed ONLY, which only happens once for each instance of a command. For code that runs each time the command starts, use initialize().</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>initialize():</dt>
<dd>This method runs when the command is started, either by being a subsystem’s default command, command.start(), or being the target of a button.
Reset the command here so that it is ready to run again.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>execute():</dt>
<dd>This method runs approximately every 50ms while the command is active. Put your main loop logic here.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>isFinished():</dt>
<dd>Return whether or not the command should end if never interrupted. For some commands, such as DriveContinuous, that may be never. For some commands, such as driving to a certain distance, that may be when the robot is a certain distance away from a setpoint.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>end():</dt>
<dd>This method is called when the command ends naturally via the isFinished() method returning true. It is good practice to reset the command here.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>interrupted():</dt>
<dd>This method is called when the command is interrupted by another command that requires the same subsystem. It is good practice to usually just add an end() call here.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Commands go in the org.usfirst.frc.teamXXXX.robot.commands package.</p>
<div class="toctree-wrapper compound">
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="subsystems.html" class="btn btn-neutral float-right" title="Subsystems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="oi.html" class="btn btn-neutral" title="OI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>